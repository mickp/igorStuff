#pragma rtGlobals=1		// Use modern global access method.Window MAP_Easy3D() : Panel	PauseUpdate; Silent 1		// building window...	NewPanel /K=1 /W=(1138,135,1495,618)	ModifyPanel frameStyle=2	SetDrawLayer ProgBack	SetDrawEnv linethick= 3,linefgc= (0,0,52224),fillpat= 0	DrawRect 3,3,354,480	SetDrawLayer UserBack	DrawText 90,31,"data source"	DrawText 218,31,"channel"	DrawText 191,330,"range"	DrawText 191,351,"offset"	DrawText 191,408,"range"	DrawText 191,429,"offset"	SetDrawEnv fillpat= 0	DrawRRect 11,137,348,211	SetDrawEnv fillpat= 0	DrawRRect 11,13,348,115	SetDrawEnv fillpat= 0	DrawRRect 11,230,348,286	SetDrawEnv fillpat= 0	DrawRRect 11,304,348,365	SetDrawEnv fillfgc= (0,0,0)	DrawText 19,306,"data scale"	SetDrawEnv fillfgc= (0,0,0)	DrawText 19,231,"axes"	SetDrawEnv fillfgc= (0,0,0)	DrawText 19,138,"appearance"	SetDrawEnv fillfgc= (0,0,0)	DrawText 19,384,"colour scale"	SetDrawEnv fillpat= 0	DrawRRect 11,382,348,443	DrawText 205,153,"colour map"	Button UserPanelRenameButton_0,pos={40,448},size={80,20},proc=ARUserPanelButtonFunc,title="Rename"	Button UserPanelRenameButton_0,font="Arial",fColor=(61440,61440,61440)	Button UserPanelSaveButton_0,pos={140,448},size={80,20},proc=ARUserPanelButtonFunc,title="Save"	Button UserPanelSaveButton_0,userdata= A":gnHZ3^Yr.F(KB53c/;E3^dmrF_t]-FE9K/F*VSED,OqdARTUhBKB.7ATCUUDImX*3]fo07S[B/ANEOO:gZY\"F*TQ0/no9:4%Ne'AQ*#\\ARmhU3r"	Button UserPanelSaveButton_0,font="Arial",fColor=(61440,61440,61440)	PopupMenu UserPanelColorPop_0,pos={220,448},size={83,22},proc=ARUserPanelPopFunc,title="Color"	PopupMenu UserPanelColorPop_0,userdata= A"zzzz5j<e!z",font="Arial",fSize=12	PopupMenu UserPanelColorPop_0,mode=0,popColor= (0,0,52224),value= #"\"*COLORPOP*\""	PopupMenu ArGLSurfacePop_0,pos={30,37},size={173,22},bodyWidth=128,proc=ARGLDataPopFunc,title="Surface"	PopupMenu ArGLSurfacePop_0,font="Arial",fSize=12	PopupMenu ArGLSurfacePop_0,mode=4,popvalue="RealTime",value= #"ARGLGetImageList(1)"	PopupMenu ArGLSurfaceDataTypePop_0,pos={208,36},size={128,22},bodyWidth=128,proc=ARGLDataPopFunc	PopupMenu ArGLSurfaceDataTypePop_0,font="Arial",fSize=12	PopupMenu ArGLSurfaceDataTypePop_0,mode=1,popvalue="HeightRetrace",value= #"ARGLGetDataList(1)"	PopupMenu ArGLColorDataTypePop_0,pos={208,61},size={128,22},bodyWidth=128,disable=2,proc=ARGLDataPopFunc	PopupMenu ArGLColorDataTypePop_0,font="Arial",fSize=12	PopupMenu ArGLColorDataTypePop_0,mode=1,popvalue="HeightRetrace",value= #"ARGLGetDataList(0)"	PopupMenu ArGLColorPop_0,pos={32,62},size={171,22},bodyWidth=128,disable=2,proc=ARGLDataPopFunc,title="Overlay"	PopupMenu ArGLColorPop_0,font="Arial",fSize=12	PopupMenu ArGLColorPop_0,mode=1,popvalue="RealTime",value= #"ARGLGetImageList(0)"	CheckBox ArGLColorCheck_0,pos={16,66},size={16,14},proc=ArGLCheckFunc,title=""	CheckBox ArGLColorCheck_0,font="Arial",fSize=12,value= 0	Button ArGLDoItButton_0,pos={131,90},size={64,20},proc=ArGLButtonFunc,title="create"	Button ArGLDoItButton_0,font="Arial",fColor=(61440,61440,61440)	CheckBox ArGLAnaglyphCheck_1,pos={18,140},size={68,15},proc=ArGLCheckFunc,title="Anaglyph"	CheckBox ArGLAnaglyphCheck_1,font="Arial",fSize=12,value= 0	PopupMenu ArGLColorMapPop_1,pos={199,155},size={142,22},bodyWidth=136,proc=ARGLPopFunc,title=" "	PopupMenu ArGLColorMapPop_1,font="Arial",fSize=12	PopupMenu ArGLColorMapPop_1,mode=1,popvalue="Grays",value= #"GetColorMapList()"	CheckBox ArGLColorMapInvertCheck_1,pos={18,156},size={47,15},proc=ArGLCheckFunc,title="Invert"	CheckBox ArGLColorMapInvertCheck_1,font="Arial",fSize=12,value= 0	CheckBox ArGLColorMapNegCheck_1,pos={18,172},size={106,15},proc=ArGLCheckFunc,title="Negative Colour"	CheckBox ArGLColorMapNegCheck_1,font="Arial",fSize=12,value= 0	CheckBox ArGLColorBarCheck_1,pos={18,267},size={77,15},proc=ArGLCheckFunc,title="Colour Bar"	CheckBox ArGLColorBarCheck_1,font="Arial",fSize=12,value= 1	CheckBox ArGLAxesCheck_2,pos={18,235},size={78,15},proc=ArGLCheckFunc,title="Show Axes"	CheckBox ArGLAxesCheck_2,font="Arial",fSize=12,value= 1	CheckBox ArGLLabelCheck_2,pos={18,251},size={85,15},proc=ArGLCheckFunc,title="Axes Labels"	CheckBox ArGLLabelCheck_2,font="Arial",fSize=12,value= 1	SetVariable ArGLColorTicksSetVar_2,pos={178,265},size={167,18},bodyWidth=80,proc=ArGLSetVarFunc,title="colour bar ticks"	SetVariable ArGLColorTicksSetVar_2,font="Arial",fSize=12,format="%d "	SetVariable ArGLColorTicksSetVar_2,value= root:packages:MFP3D:Main:Variables:ArgyleVariablesWave[%ArGLColorTicks][%Value]	PopupMenu ClipModePop,pos={260,318},size={84,22},bodyWidth=58,proc=MAP3DPopMenuProc,title="limit"	PopupMenu ClipModePop,font="Arial",fSize=12	PopupMenu ClipModePop,mode=1,popvalue="None",value= #"GUS(\"ArGLClipMode\")"	Slider DataScale0Slider,pos={19,309},size={170,25},proc=MAP3DSliderProc	Slider DataScale0Slider,font="Arial",fSize=11	Slider DataScale0Slider,limits={-7.6e-08,2.28e-07,0},value= 7.59999991828408e-08,side= 2,vert= 0,ticks= -10,thumbColor= (57780,57780,41396)	Slider DataScale1Slider,pos={19,334},size={170,25},proc=MAP3DSliderProc	Slider DataScale1Slider,font="Arial",fSize=11	Slider DataScale1Slider,limits={-1.52e-07,1.52e-07,0},value= 0,vert= 0,ticks= -10,thumbColor= (41396,45492,57780)	Button DataScaleFixButton,pos={296,342},size={48,20},proc=MAP3DButtonProc,title="fix"	Button DataScaleFixButton,font="Arial",fColor=(61440,61440,61440)	Slider ColorScale0Slider,pos={19,387},size={170,25},proc=MAP3DSliderProc	Slider ColorScale0Slider,font="Arial",fSize=11	Slider ColorScale0Slider,limits={-1938.9,5816.7,0},value= 1938.90002441406,side= 2,vert= 0,ticks= -10,thumbColor= (57780,57780,41396)	Slider ColorScale1Slider,pos={19,412},size={170,25},proc=MAP3DSliderProc	Slider ColorScale1Slider,font="Arial",fSize=11	Slider ColorScale1Slider,limits={1.70312e+06,1.71088e+06,0},value= 1707000,vert= 0,ticks= -10,thumbColor= (41396,45492,57780)	Button ColorScaleFixButton,pos={297,420},size={48,20},proc=MAP3DButtonProc,title="fix"	Button ColorScaleFixButton,font="Arial",fColor=(61440,61440,61440)	CheckBox ArGLShinyCheck_4,pos={18,188},size={47,15},proc=ArGLCheckFunc,title="shiny"	CheckBox ArGLShinyCheck_4,font="Arial",fSize=12,value= 0	SetVariable ArGLShinyFactorSetVar_4,pos={68,187},size={64,18},bodyWidth=64,disable=2,proc=ArGLSetVarFunc,title=" "	SetVariable ArGLShinyFactorSetVar_4,font="Arial",fSize=11,format="%.2f %"	SetVariable ArGLShinyFactorSetVar_4,limits={-inf,inf,10},value= root:packages:MFP3D:Main:Variables:ArgyleVariablesWave[%ArGLShinyFactor][%Value]	PopupMenu ArGLBackColorPop_5,pos={207,186},size={135,22},bodyWidth=64,proc=ArGLPopFunc,title=" background"	PopupMenu ArGLBackColorPop_5,font="Arial",fSize=12	PopupMenu ArGLBackColorPop_5,mode=0,popColor= (0,0,0),value= #"\"*COLORPOP*\""	SetVariable ArGLRotateRate1SetVar_3,pos={196,240},size={149,18},bodyWidth=80,proc=MAP3DSetVarProc,title="rotation rate"	SetVariable ArGLRotateRate1SetVar_3,font="Arial",fSize=12,format="%.2f °/sec"	SetVariable ArGLRotateRate1SetVar_3,limits={-inf,inf,15},value= root:packages:MFP3D:Main:Variables:ArgyleVariablesWave[%ArGLRotateRate1][%Value]	SetWindow kwTopWin,hook(AR)=UserCnTPanelHookEndMacroFunction MAP3DSetVarProc(InfoStruct) : SetVariableControl	STRUCT WMSetVariableAction &InfoStruct 	InfoStruct.CtrlName = "ARGL" + InfoStruct.CtrlName	return ArGLSetVarFunc(InfoStruct)	EndFunction MAP3DPopMenuProc(InfoStruct) : PopupMenuControl	STRUCT WMPopupAction &InfoStruct 	InfoStruct.CtrlName = "ARGL" + InfoStruct.CtrlName	return ArGLPopFunc(InfoStruct)EndFunction MAP3DButtonProc(InfoStruct) : ButtonControl	STRUCT WMButtonAction &InfoStruct	String CtrlName = InfoStruct.CtrlName	InfoStruct.CtrlName = "ARGL" + CtrlName	ARGLButtonFunc(InfoStruct)		//	Will need to update sliders to correct their range	If (InfoStruct.EventCode & 4)		Variable low, high, i		If (StringMatch(CtrlName, "ColorScale*"))			MAP3DUpdateSliders("ColorScale")		ElseIf (StringMatch(CtrlName, "DataScale*"))			MAP3DUpdateSliders("DataScale")		EndIf	EndIf		return(0)EndFunction MAP3DSliderProc(InfoStruct) : SliderControl	STRUCT WMSliderAction &InfoStruct		String	CtrlName = InfoStruct.CtrlName	InfoStruct.CtrlName = "ARGL" + InfoStruct.CtrlName	ARGLSliderFunc(InfoStruct)	//	We need to update our own sliders if value has changed	If (InfoStruct.EventCode & 4)		Variable low, high, i		If (StringMatch(CtrlName, "ColorScale*"))			MAP3DUpdateSliders("ColorScale")		ElseIf (StringMatch(CtrlName, "DataScale*"))			MAP3DUpdateSliders("DataScale")		EndIf	EndIf	return(0)EndFunction MAP3DUpdateSliders(vBase)	String vBase	String vName	If (strlen(vBase) > 0)		Variable i, low, high		For (i = 0; i < 2; i += 1)			vName = "ArGL" + vBase + num2istr(i)			low = GV(vName) - 20 * GVS(vName)			high = GV(vName) + 20 * GVS(vName)			UpdateAllSliders(vBase+ num2istr(i) + "Slider", GV(vName), low, high, 0)		EndFor	EndIf		return(0)End